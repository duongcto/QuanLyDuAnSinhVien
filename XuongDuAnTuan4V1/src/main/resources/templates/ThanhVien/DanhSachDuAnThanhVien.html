<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh Sách Dự Án</title>
    <style>
        /* ----- Cài đặt chung ----- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f7fa;
            color: #333;
            margin: 0;
            padding: 30px;
        }

        /* ----- Khung chứa danh sách ----- */
        .project-list-container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .list-title {
            font-size: 28px;
            font-weight: 700;
            color: #0d204d; /* Màu xanh đậm */
            margin-bottom: 25px;
        }

        /* ----- Mỗi mục dự án (Card) ----- */
        .project-item {
            background-color: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s ease;
        }

        .project-item:hover {
            box-shadow: 0 8px 24px rgba(44, 33, 119, 0.18), 0 1.5px 6px rgba(44, 33, 119, 0.10);
            transform: translateY(-2px) scale(1.01);
            transition: box-shadow 0.25s cubic-bezier(.4,2,.6,1), transform 0.18s cubic-bezier(.4,2,.6,1);
            cursor: pointer;
        }

        .project-title {
            font-size: 18px;
            font-weight: 600;
            color: #0d204d;
            margin: 0 0 20px 0;
        }

        /* ----- Lưới chứa thông tin chi tiết ----- */
        .project-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px 16px;
            margin-bottom: 20px;
            align-items: start;
        }

        .detail-item {
            font-size: 14px;
        }

        .detail-label {
            display: block;
            color: #6c757d; /* Màu xám cho nhãn */
            margin-bottom: 6px;
            font-weight: 500;
        }

        .detail-value {
            font-weight: 600;
            color: #343a40;
        }

        /* ----- Thẻ trạng thái ----- */
        .status-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
            text-align: center;
        }

        .status-inprogress {
            background-color: #d4edda; /* Xanh lá nhạt */
            color: #155724; /* Xanh lá đậm */
        }

        .status-stopped {
            background-color: #f8d7da; /* Đỏ/Cam nhạt */
            color: #721c24; /* Đỏ/Cam đậm */
        }

        /* ----- Thanh tiến độ ----- */
        .project-progress {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .progress-label {
            font-size: 14px;
            color: #6c757d;
            font-weight: 500;
            flex-shrink: 0; /* Không bị co lại */
        }

        .progress-bar-container {
            flex-grow: 1;
            background-color: #e9ecef;
            border-radius: 10px;
            height: 8px;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: #28a745;
            border-radius: 10px;
        }

        .progress-percentage {
            font-size: 14px;
            font-weight: 600;
            color: #343a40;
        }
    </style>
</head>
<body>
<div th:each="duAn : ${danhSachDuAn}" class="project-item" th:attr="data-id=${duAn.id}">
    <h2 class="project-title" th:text="${duAn.tenDuAn}">Tên dự án</h2>

    <div class="project-details">
        <div class="detail-item">
            <span class="detail-label">Mã:</span>
            <span class="detail-value" th:text="${duAn.maDuAn}">1</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Bộ môn:</span>
            <span class="detail-value" th:text="${duAn.idBoMon.tenBoMon}">Tên bộ môn</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Cơ sở:</span>
            <span class="detail-value" th:text="${duAn.idCoSo.tenCoSo}">Tên cơ sở</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Ngày bắt đầu:</span>
            <span class="detail-value" th:text="${duAn.ngayBatDau}">2025-06-01</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Ngày kết thúc:</span>
            <span class="detail-value" th:text="${duAn.ngayKetThucDuKien}">2025-12-31</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Trạng thái:</span>
            <span class="detail-value">
                        <span class="status-tag"
                              th:classappend="${duAn.trangThai} ? 'status-inprogress' : 'status-completed'"
                              th:text="${duAn.trangThai} ? 'Đang diễn ra' : 'Đã kết thúc'">
                            Trạng thái
                        </span>
                    </span>
        </div>
    </div>

    <div style="margin-bottom: 12px; display: flex; align-items: center; gap: 10px;">
        <span style="font-size: 14px; color: #6c757d; font-weight: 500;">Thành viên:</span>
        <div style="display: flex; gap: 6px; align-items: center;">
            <span th:each="tv : ${duAn.thanhVienDuAns}"
                  style="display: inline-block; width: 28px; height: 28px; background: #2c2177; color: #fff; border-radius: 50%; text-align: center; line-height: 28px; font-weight: bold; font-size: 13px;"
                  th:title="${tv.idNguoiDung.hoTen}">
                <span th:text="${#strings.toUpperCase(tv.idNguoiDung.hoTen.substring(0,1))}">A</span>
            </span>
        </div>
    </div>

    <div class="project-progress">
        <span class="progress-label">Tiến độ:</span>
        <div class="progress-bar-container">
            <div class="progress-bar-fill" style="width: 0%;"></div> <!-- Cập nhật sau -->
        </div>
        <span class="progress-percentage">0%</span>
    </div>
</div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.querySelectorAll('.project-item').forEach(item => {
            item.addEventListener('click', function() {
                const idDuAn = this.getAttribute('data-id');
                // Ví dụ chuyển trang đến URL chi tiết dự án
                window.location.href = '/hien-thi-giai-doan-thanh-vien/' + idDuAn;
            });
        });
    });
</script>

</html>